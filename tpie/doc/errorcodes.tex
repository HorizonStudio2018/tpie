%       $Id: errorcodes.tex,v 1.4 2002-06-25 18:27:46 tavi Exp $    

\chapter{TPIE Error Codes}

\section{AMI Error Codes}
\label{sec:ami-errors}
\index{error codes|(}

AMI\comment{LA: Should we move this section to an appendix? Or just move it
to the end of this section? What about appendix for management object
return codes ect.?} entry points typically return error codes of the
enumerated type \verb|AMI_err|.  Member functions of operation management
objects\index{operation management objects} also typically return this
type.  Possible values for error codes include those listed below.  It is
expected that in future releases of TPIE, many of these error codes will be
replaced by exceptions.  
%Exceptions are not currently used by TPIE because the {\tt
%g++} compiler does not fully support them.

\begin{description}\index{AMI_ERROR_*@{\tt AMI\_ERROR\_*}|(}
\item[{\tt AMI\_ERROR\_NO\_ERROR}] No error occurred.  The call the the
  entry point returned normally.
\item[{\tt AMI\_ERROR\_IO\_ERROR}] A low level I/O error occurred.
\item[{\tt AMI\_ERROR\_END\_OF\_STREAM}] An attempt was made to read
  past the end of a stream or write past the end of a substream.
\item[{\tt AMI\_ERROR\_READ\_ONLY}] An attempt was made to write to a
  read-only stream.
\item[{\tt AMI\_ERROR\_OS\_ERROR}]  An unexpected operating system
  error occurred.  Details should appear in the log file if logging is
  enabled.  See Section~\ref{sec:logging}.
\item[{\tt AMI\_ERROR\_BASE\_METHOD}] An attempt was made to call a
  member function of the virtual base class of {\tt AMI\_STREAM}.  This
  indicates a bug in the implementation of AMI streams.
\item[{\tt AMI\_ERROR\_BTE\_ERROR}] An error occurred at the BTE
  level.  
\item[{\tt AMI\_ERROR\_MM\_ERROR}] An error occurred within the memory
  manager.
\item[{\tt AMI\_ERROR\_OBJECT\_INITIALIZATION}] An AMI entry point was
  not able to properly initialize the operation management object that
  was passed to it.  This generally indicates a bug in the operation
  management object's initialization code.
%\item[{\tt AMI\_ERROR\_PERMISSION\_DENIED}]
\item[{\tt AMI\_ERROR\_INSUFFICIENT\_MAIN\_MEMORY}] The MM could not
  make adequate main memory available to complete the requested
  operation.  Many operations adapt themselves to use whatever main
  memory is available, but in some cases, when memory is extremely
  tight, they may not be able to function.
\item[{\tt AMI\_ERROR\_INSUFFICIENT\_AVAILABLE\_STREAMS}]
  The AMI could not allocate enough intermediate streams to perform
  the requested operation.  Certain operating system restrictions
  limit the number of streams that can be created on certain
  platforms.  Only in unusual circumstances, such as when the
  application itself has a very large number of open streams, will
  this error occur. 
\item[{\tt AMI\_ERROR\_ENV\_UNDEFINED}]
  An environment variable necessary to initialize the AMI was not defined.
\item[{\tt AMI\_ERROR\_BIT\_MATRIX\_BOUNDS}]
  A bit matrix larger than the number of bits in an offset into a
  stream was passed to \verb|ami_gp()|.
\item[{\tt AMI\_ERROR\_NOT\_POWER\_OF\_2}]
  The length of a stream on which a bit permutation was to be
  performed is not a power of two.
\item[{\tt AMI\_MATRIX\_BOUNDS}] An attempt was made to perform a
  matrix operation on matrices whose bounds did not match appropriately.
\index{AMI_ERROR_*@{\tt AMI\_ERROR\_*}|)}
\end{description}


\section{Return Values for Scan Management Objects}

More information on the precise semantics of these values appears in
Section~\ref{sec:ref-ami-scan}.
\begin{description}
\item[{\tt AMI\_SCAN\_CONTINUE}] \index{AMI_SCAN_CONTINUE@{\tt
AMI\_SCAN\_CONTINUE}} Tells \verb|AMI_scan()|\index{AMI_scan()@{\tt AMI\_scan()}} to continue
  to call the \verb|operate()| member function of the scan management
  object with more data.
\item[{\tt AMI\_SCAN\_DONE}] \index{AMI_SCAN_DONE@{\tt AMI\_SCAN\_DONE}} Tells \verb|AMI_scan()| that the scan is
  complete. 
\end{description}

\section{Return Values for Merge Management Objects}

More information on the precise semantics of these values appears in
Section~\ref{sec:ref-ami-merge}.
\begin{description}\index{AMI_MERGE_*@{\tt AMI\_MERGE\_*}}
\item[{\tt AMI\_MERGE\_CONTINUE}] Tells \verb|AMI_merge()|\index{AMI_merge()@{\tt AMI\_merge()}} to continue
  to call the \verb|operate()| member function of the scan management
  object with more data.
\item[{\tt AMI\_MERGE\_DONE}] Tells \verb|AMI_merge()| that the scan is
  complete. 
\item[{\tt AMI\_MERGE\_OUTPUT}]  Tells \verb|AMI_merge()| that the
  last call generated output for the output stream.
\item[{\tt AMI\_MERGE\_READ\_MULTIPLE}]  Tells \verb|AMI_merge()| that
  more than one input object was consumed and thus the input flags
  should be consulted.
\end{description}

\index{error codes|)}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
